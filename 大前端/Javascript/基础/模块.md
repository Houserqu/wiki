# 模块

## 引用

es6 module 在声明 import 时并不会执行对应模块文件里的代码，而是在使用到了该模块导出的值的时候，才会去执行。es6 模块是【**单例】**的，一个模块只会执行一次，第二次读取该模块导出的变量的时候，直接从内存中读取

CommonJS 模块在 require 的时候会立即执行模块文件里的代码，并缓存，当第二次 require 相同的文件的时候，直接从缓存中读取结果，效果跟 es6 模块一样。

es6 模块和 CommonJS 模块主要的区别是引用，前者不会立即执行，但是必须写在文件顶部，用于静态引用关系分析，后者在引用的时候立即执行，可以在代码任何位置去 require