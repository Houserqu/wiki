## ssh

ssh 指定密钥登录：`ssh -i ~/.ssh/id_rsa root@xxx.xxx.xx.xx`

ssh 免密登录配置：

```bash
1. 客户端生产密钥对（可以复用已有的）
ssh-keygen -t rsa (默认生成在 ~/.ssh 目录，id_rsa 私钥，id_rsa.pub 公钥)
2. 将公钥内容追加到服务器 ~/.ssh/authorized_keys 文件中
cat ./id_rsa.pub >> ./authorized_keys
```

ssh 配置：

```
配置文件: /etc/ssh/sshd_config

开启密钥登录：
RSAAuthentication yes
PubkeyAuthentication yes
AuthorsizedKeysFile.ssh/authorized_keys

端口：
Port 22

口令密码登录（建议关闭）
PasswordAuthentication no
```

修改配置后重启 ssh 服务: systemctl restart sshd.service

## 环境变量

环境变量配置文件加载顺序

/etc/profile /etc/paths ~/.bash_profile ~/.bash_login ~/.profile ~/.bashrc

添加环境变量目录

export PATH=$PATH:<PATH 1>:<PATH 2>:<PATH 3>:------:<PATH N>

示例：添加后可以直接使用bin目录下的命令

export PATH=$PATH:~/go/bin

## 进程守护

### 工具

1. docker

2. pm2 （nodejs 开发，支持非 nodejs 程序）

3. supervisord （python 开发，支持各类程序，支持web面板）

4. nohup （系统自带工具）

### nohup

后台执行程序

示例1 （默认输出日志到当前目录的 nohup.out）: 

nohup 启动命令 &

示例2（输出日志到指定文件）:

nohup 启动命令 > myprogram.out 2> &1

nohup 与 & 配合使用的原因

使用&后台运行程序：

结果会输出到终端

使用Ctrl + C发送SIGINT信号，程序免疫

关闭session发送SIGHUP信号，程序关闭

使用nohup运行程序：

结果默认会输出到nohup.out

使用Ctrl + C发送SIGINT信号，程序关闭

关闭session发送SIGHUP信号，程序免疫



## rabbitmq docker

带管理面板

docker run -d --hostname my-rabbit --name some-rabbit -p 15672:15672 -p 5672:5672 rabbitmq:3-management

默认账号密码：guest guest

管理台地址：http://localhost:15672

rabbitmq 服务地址：[127.0.0.1:5672](http://127.0.0.1:5672)